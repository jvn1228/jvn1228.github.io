(function(t){function e(e){for(var n,a,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)a=o[d],s[a]&&f.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},s={app:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("1356"),s=r.n(n);s.a},1356:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=r("bb71");r("da64");n["a"].use(s["a"],{iconfont:"md"});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-layout",{attrs:{"align-center":""}},[r("v-flex",{attrs:{sm6:"","offset-sm3":""}},[r("v-card",{staticClass:"pa-3"},[r("div",[r("v-btn",{on:{click:function(e){return t.$refs.audiofile.click()}}},[t._v("Load Audio")]),r("input",{ref:"audiofile",staticStyle:{display:"none"},attrs:{type:"file",accept:"audio/*"},on:{change:t.onAudioPicked}}),t.loadprogress?r("v-progress-circular",{staticClass:"notransition",attrs:{color:"primary"},model:{value:t.loadprogress,callback:function(e){t.loadprogress=e},expression:"loadprogress"}}):t._e(),r("p",[t._v(t._s(t.fname))])],1),r("v-card-title",[r("h2",[t._v("Text: "+t._s(t.currMarkText))])]),r("div",{staticClass:"mr-3 ml-3"},[r("div",{staticStyle:{position:"relative"}},t._l(t.sortedMarks,function(e){return r("v-icon",{key:e,style:{left:t.marks[e].position,position:"absolute",top:"-16px"}},[t._v("arrow_drop_down")])}),1),r("v-progress-linear",{staticClass:"mt-0 notransition",on:{click:t.seek},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1),r("label",[t._v("Time: "+t._s(t.time.toFixed(2))+" / "+t._s(t.song.duration))]),r("v-divider",{staticClass:"mt-2 mb-2"}),r("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.togglePlay()}}},[t._v(t._s(t.playing?"Pause":"Play"))]),r("v-btn",{on:{click:function(e){return t.restart()}}},[t._v("Restart")]),r("v-btn",{on:{click:function(e){return t.saveMarks()}}},[t._v("Save Marks")]),r("v-btn",{on:{click:t.pickFile}},[t._v("Load Marks")]),r("input",{ref:"marksjson",staticStyle:{display:"none"},attrs:{type:"file",accept:"*.json"},on:{change:t.onFilePicked}}),r("v-divider",{staticClass:"mt-2"}),r("div",{staticStyle:{"max-height":"35em",overflow:"auto"}},[r("v-list",{staticClass:"pt-4"},t._l(t.sortedMarks,function(e,n){return r("v-list-tile",{key:e},[r("v-btn",{staticClass:"mr-3",class:{success:t.currMark-1==n},on:{click:function(e){return t.goToMark(n)}}},[t._v(t._s(e))]),r("v-text-field",{model:{value:t.marks[e].text,callback:function(r){t.$set(t.marks[e],"text",r)},expression:"marks[ts].text"}}),r("v-icon",{on:{click:function(e){return t.deleteMark(n)}}},[t._v("cancel")])],1)}),1)],1),r("v-btn",{attrs:{color:"red",small:"",dark:"",size:"small"},on:{click:t.clear}},[t._v("Clear All Marks")])],1)],1)],1)],1)},a=[];r("ac6a"),r("456d"),r("55dd"),r("7f7f");function o(t){var e="marks.json",r=new Blob([JSON.stringify(t)],{type:"text/plain"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,e);else{var n=document.createEvent("MouseEvents"),s=document.createElement("a");s.download=e,s.href=window.URL.createObjectURL(r),s.dataset.downloadurl=["text/plain",s.download,s.href].join(":"),n.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(n)}}window.AudioContext||window.webkitAudioContext;var c={name:"App",data:function(){return{time:0,fname:null,song:new Audio,playing:!1,marks:{},sortedMarks:[],currMark:0,currMarkText:"",loadprogress:0}},created:function(){document.addEventListener("keypress",this.keyPressed)},mounted:function(){},methods:{onAudioPicked:function(t){var e=this;if(t.target.files){var r=new FileReader;this.fname=t.target.files[0].name,r.onprogress=function(t){var r=t.loaded/t.total*100;e.loadprogress=r},r.onload=function(t){e.song.src=t.target.result,e.loadprogress=0},r.readAsDataURL(t.target.files[0])}},clear:function(){this.marks={},this.sortedMarks=[],this.currMark=0,this.currMarkText=""},deleteMark:function(t){delete this.marks[this.sortedMarks[t]],this.sortedMarks.splice(t,1),this.currMark>=t&&this.currMark--},pickFile:function(){this.$refs.marksjson.click()},onFilePicked:function(t){var e=this,r=t.target.files;if(void 0!==r[0]){var n=r[0],s=new FileReader;s.readAsText(n),s.addEventListener("load",function(){var t=JSON.parse(s.result);e.fname=t.file,e.song=new Audio(e.fname),e.marks=t.marks,e.sortedMarks=Object.keys(e.marks).sort(function(t,e){return t-e}),e.currMark=0,e.playing&&e.togglePlay()})}},calcMarkPos:function(t){return"calc("+(t/(this.song.duration||1)*100||0)+"% - 14px)"},keyPressed:function(t){0===t.which&&(this.marks[this.time]={text:"Mark "+Object.keys(this.marks).length,position:this.calcMarkPos(this.time),ts:this.time},this.sortedMarks=Object.keys(this.marks).sort(function(t,e){return t-e}))},togglePlay:function(){this.song.duration&&(this.playing?this.pause():this.play())},play:function(){var t=this;this.song.play(),this.playing=!0,this.interval=setInterval(function(){t.updateTime()},10)},pause:function(){this.song.pause(),this.playing=!1,this.interval&&clearInterval(this.interval)},restart:function(){this.song.currentTime=0,this.currMark=0,this.currMarkText="",this.updateTime()},seek:function(t){var e=document.querySelector(".v-progress-linear__bar"),r=t.offsetX,n=e.clientWidth,s=r/n*(this.song.duration||1),i=this.sortedMarks.filter(function(t){return t>=s});this.currMark=this.sortedMarks.length-i.length-1,this.currMark<0&&(this.currMarkText="",this.currMark=0),this.song.currentTime=s,this.updateTime()},saveMarks:function(){var t={file:this.fname,marks:this.marks};o(t)},goToMark:function(t){this.currMark=t,this.song.currentTime=this.sortedMarks[this.currMark],this.updateTime()},updateTime:function(){this.time=this.song.currentTime,this.time>=this.sortedMarks[this.currMark]&&(this.currMarkText=this.marks[this.sortedMarks[this.currMark]].text,this.currMark++)}},computed:{progress:function(){return this.time/(this.song.duration||1)*100||0}}},l=c,u=(r("034f"),r("2877")),d=r("6544"),f=r.n(d),p=r("7496"),k=r("8336"),h=r("b0af"),v=r("12b2"),m=r("ce7e"),g=r("0e8f"),y=r("132d"),M=r("a722"),b=r("8860"),w=r("ba95"),x=r("490a"),_=r("8e36"),T=r("2677"),P=Object(u["a"])(l,i,a,!1,null,null,null),O=P.exports;f()(P,{VApp:p["a"],VBtn:k["a"],VCard:h["a"],VCardTitle:v["a"],VDivider:m["a"],VFlex:g["a"],VIcon:y["a"],VLayout:M["a"],VList:b["a"],VListTile:w["a"],VProgressCircular:x["a"],VProgressLinear:_["a"],VTextField:T["a"]}),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(O)}}).$mount("#app")}});
//# sourceMappingURL=app.867f42d4.js.map